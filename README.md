# EVC & Ghost Traffic Attribution Analyzer

## **1. Overview & Purpose**
**The Problem:** Video advertising (YouTube) creates demand that often doesn't result in an immediate click. Users view an ad, then visit the site later via high-intent channels like **Direct**, **Organic Search**, or **Paid Search**. Standard analytics (GA4) credit the *last click* (e.g., Organic), leaving Video campaigns looking inefficient while "free" channels appear artificially inflated.

**The Solution:** This tool uses statistical regression to mathematically "unmix" site traffic. It identifies which channels spike in correlation with video views (EVCs), effectively tracing the "Ghost Traffic" back to its true source.

---

## **2. Methodology: The Dual-Model Approach**
We use two distinct statistical models to reveal the truth. Using both provides a range of probable impact rather than a single guess.

### **Model A: NNLS (Non-Negative Least Squares)**
* **The Logic:** "The Competitive Model" (or The Judge).
* **How it works:** It forces all traffic channels to compete for credit. If "Direct" and "Organic" spike at the same time, NNLS picks the *single best mathematical fit* and gives it 100% of the credit, forcing the others to zero.
* **Best for:** Identifying the **Primary Driver**. It is conservative and strict. If NNLS credits a channel, the correlation is undeniable.
* **Interpretation:** "This specific channel is the main beneficiary of our video ads."

### **Model B: Ridge Regression**
* **The Logic:** "The Shared Credit Model" (or The Diplomat).
* **How it works:** It handles **multicollinearity** (channels moving together). It recognizes that a video ad might lift *both* Organic Search and Direct traffic simultaneously. Instead of picking one winner, it splits the credit between them based on signal strength.
* **Best for:** Identifying the **Halo Effect**. It captures the broad, ambient lift that video provides across the ecosystem.
* **Interpretation:** "Video is raising the water level for all these channels."

---

## **3. Key Features & Definitions**

### **Ghost Conversion Rate (The Coefficient)**
* **Definition:** The multiplier found by the model.
* **Example:** A coefficient of **0.05** means it takes **20 Sessions** from a specific channel to equal **1 EVC**.
* **Why it matters:** It proves that video views aren't just "vanity metrics"—they statistically predict future site traffic.

### **Auto-Lag Detection**
* **Definition:** The time delay between a user *viewing* an ad and *visiting* the site.
* **Process:** The model automatically scans 0–14 days of history. It tests every possible delay and locks onto the day with the highest statistical correlation ($R^2$).
* **Insight:** A lag of **0 Days** implies impulsive/low-funnel behavior. A lag of **2+ Days** implies consideration/research behavior.

### **CausalImpact (Incremental Lift)**
* **Definition:** A counterfactual analysis answering, *"What would have happened if we never ran ads?"*
* **Method:** It learns the normal behavior of your traffic (using pre-campaign data or control markets) and projects a baseline. The difference between this baseline and reality is the **True Incremental Lift**.

---

## **4. Step-by-Step User Guide**

### **Step 1: Data Ingestion**
* **Input:** Upload two CSV files:
    1.  **Session Data (The Effect):** GA4 export (Date, Channel, Sessions).
    2.  **Ad Data (The Cause):** Google Ads export (Date, Engaged-View Conversions).
* **Automation:** The tool detects date formats, cleans "messy" headers, and pivots the data into a time-series matrix automatically.

### **Step 2: Training the Models**
* **NNLS:** Run to find the sharpest, most direct correlations. (Good for "Spiky" channels like Push Notifications).
* **Ridge:** Run to find the broader, smoother trends. (Good for "Base Load" channels like Google CPC).

### **Step 3: Visualization & Validation**
* **The Stack Plot:** Visualizes the model's accuracy.
* **Validation Check:** Look at the **Black Line** (Actual EVCs) vs. the **Colored Stack** (Predicted Traffic). If the stack rises and falls exactly when the black line does, the model is valid.
    * *Accuracy Score:* Represented as a percentage (e.g., "94.2% Match").

### **Step 4: Financial Impact (ROI)**
* **Ghost Revenue:** The estimated revenue generated by video but credited to other channels.
    * *Formula:* `Attributed EVCs * Average Order Value (AOV)`
* **Media Value Created:** The money saved by acquiring these users via video instead of expensive bottom-funnel clicks.
    * *Formula:* `Attributed EVCs * Target CPA`

---

## **5. Interpreting the Results (Cheat Sheet)**

| Observation | What it likely means |
| :--- | :--- |
| **NNLS & Ridge show the same top channel.** | **High Confidence.** This channel is undeniably driving your video performance. |
| **NNLS credits "Push" / Ridge credits "Direct".** | **Volume Bias.** "Push" is likely the true driver of the *spikes*, but "Direct" has so much volume that Ridge gives it credit for the *baseline*. Trust NNLS for the specific campaign impact. |
| **High Lag (3+ Days).** | **High Consideration.** Users are watching, thinking, and coming back later. Retargeting is crucial here. |
| **Low Accuracy (<50%).** | **Weak Signal.** The video campaign spend may be too low to create a detectable ripple in site traffic, or the creative is not driving action. |

---

## **6. Final Output: The Executive Report**
The tool bundles all findings—charts, data tables, and ROI calculations—into a single **HTML Dashboard**. This file is self-contained and can be emailed directly to stakeholders, serving as the final "Proof of Performance."
