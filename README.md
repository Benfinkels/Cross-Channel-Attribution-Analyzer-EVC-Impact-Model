# Cross-Channel Attribution Analyzer: EVC Impact Model

## Overview
This tool is designed to quantify the downstream impact of **YouTube Engaged View Conversions (EVCs)** on site traffic. By utilizing statistical regression modeling, it identifies and attributes "Ghost Traffic." These are users who view video ads but convert via high-intent channels (e.g., Paid Search, Direct, Email) rather than clicking the ad directly.

## Problem Statement
Standard analytics platforms (such as GA4) primarily rely on click-based attribution models. This creates a reporting gap for video advertising where the primary user behavior is viewing rather than clicking. Consequently, video campaigns often appear to have low efficiency (high CPA) while demand capture channels (Search, Direct) receive credit for traffic generated by video awareness.

## Solution Methodology
This application uses **Time-Lagged Non-Negative Least Squares (NNLS) Regression** to establish causality. The model analyzes daily transaction data to determine:

* **Correlation:** When YouTube EVC volume increases, which other channels experience a statistically significant lift?
* **Time Lag:** What is the delay (0–14 days) between the video view and the subsequent site visit?
* **Decomposition:** What percentage of traffic in other channels can be mathematically attributed to video ad exposure?

### Statistical Foundation
The model treats **YouTube EVCs** as the *Dependent Variable ($y$)* and **Site Traffic Channels** as the *Independent Variables ($X$)*. It solves for the following equation:

$$y_{EVC}(t) = \sum (\beta_{channel} \times X_{channel}(t - lag)) + \epsilon$$

Where:
* $\beta$ (Beta) represents the Conversion Rate (the probability that a session from Channel X was triggered by a YouTube view).
* $lag$ represents the time delay in days.
* NNLS constraints ensure $\beta \ge 0$ to prevent negative attribution.

---

## Key Features

### 1. Time-Lag Optimization
The model iteratively tests lag periods ranging from 0 to 14 days to identify the optimal conversion window for each channel. This accounts for the consideration phase between ad exposure and action.

### 2. Attribution Decomposition
The "Source Revealer" visualization validates the model by reconstructing the reported YouTube conversion volume using data from other channels. A high correlation between the reconstructed model (the stack) and the actual reported EVCs (the trendline) indicates a high degree of statistical confidence.

### 3. Financial Impact Analysis
The ROI Calculator translates attributed traffic into financial metrics:
* **True CPA:** Total Spend / Total Attributed Conversions
* **Attributed Revenue:** Attributed Conversions × Average Order Value (AOV)
* **Media Value:** Attributed Conversions × Market CPA

### 4. Data Normalization
The tool includes automated pre-processing to handle data granularity issues, such as aggregating campaign-level rows into daily totals. It also harmonizes disparate channel naming conventions (e.g., fuzzy matching "FinanceBuzz" with "financebuzz-auto").

---

## Usage Guide

### Step 1: Data Ingestion
The model requires two CSV inputs:
* **Session Data (Dependent Variable):** A daily export from GA4 containing `Date`, `Channel` (Source/Medium), and `Traffic Volume` (Sessions/Users).
* **Target Data (Independent Variable):** A daily export from Google Ads containing `Date` and `EVCs`.

### Step 2: Model Execution
Run the NNLS regression script. The system will filter out statistically insignificant channels and generate a `Competitive Model` output file containing the attribution coefficients.

### Step 3: Visualization & Validation
Execute the visualization module to generate the Attribution Stack chart. This confirms whether the model accurately predicts the daily fluctuations in reported EVCs based on site traffic signals.

### Step 4: ROI Calculation
Input the **Average Order Value (AOV)** and **Total Campaign Spend** to calculate the efficiency and return on ad spend (ROAS) inclusive of the attributed cross-channel lift.

---

## System Requirements
* Python 3.x
* **Libraries:** `pandas`, `numpy`, `scipy`, `matplotlib`, `seaborn`, `ipywidgets`

---

## Disclaimer
*This tool is a statistical modeling application for attribution analysis and estimation. It is intended to complement, not replace, official Google Ads tracking or Data-Driven Attribution (DDA) by visualizing incremental cross-channel impact.*
